(function(e){function t(t){for(var r,o,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={app:0},i=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-0d1211a4":"c8404b02","chunk-46d63ae4":"471d95d0","chunk-4f0ab34b":"eeff28b0","chunk-73714a90":"f79c368f","chunk-795cebb0":"2ff24442","chunk-7e4dde96":"52ccef70"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=o(e);var c=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}a[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2ffc":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"body,html{margin:0;padding:0;font-size:15px}body .headerStyle,html .headerStyle{background:#fa7362;color:#fff}body .el-table--small td,body .el-table--small th,html .el-table--small td,html .el-table--small th{padding:1px 0}body .el-form-item,html .el-form-item{margin-bottom:18px}body .nop,html .nop{padding:0}body .el-dialog,body .el-message-box,html .el-dialog,html .el-message-box{width:300px!important}body .wper100,html .wper100{width:100%!important}body .red,html .red{color:#fa7362}body .font-12,html .font-12{font-size:12px}body .gray,html .gray{color:#999}body .mr10,html .mr10{margin-right:10px}body .blue,html .blue{color:#409eff}body .nob,html .nob{border:0}body div,body span,html div,html span{-webkit-box-sizing:content-box;box-sizing:content-box}body .p15,html .p15{padding:15px}body .mb15,html .mb15{margin-bottom:15px}body .mt15,html .mt15{margin-top:15px}body .m15,html .m15{margin:15px}body .mtb15,html .mtb15{margin:15px 0}body .small-font,html .small-font{font-size:12px}body .tc,html .tc{text-align:center}body .el-input--mini .el-input__inner,html .el-input--mini .el-input__inner{height:auto!important;line-height:normal!important}body .el-input .el-input__inner,html .el-input .el-input__inner{height:auto!important;line-height:normal!important;padding:9px 5px!important}body .el-input.is-disabled .el-input__inner,html .el-input.is-disabled .el-input__inner{color:grey!important}body .van-toast,html .van-toast{white-space:normal;z-index:999999}",""]),t.locals={trOddColor:"#c3cdd6",trEvenColor:"#ead0b3"}},"3c2a":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"#wtable .pho{color:#409eff}#wtable .header-wrapper{background-color:#e2f7ec;padding:5px;font-size:12px}#wtable .header-wrapper>div{border:1px dashed #0c746b;padding:4px}#wtable .tabs-wrap{margin:10px 0 0 0;padding:0 7px;overflow:hidden}#wtable .tabs-wrap .tabs-item{width:33%;float:left;margin-bottom:10px}#wtable .tabs-wrap .tabs-item .mtabs{padding:0 7px}#wtable .tabs-wrap .tabs-item .mtabs .tab-text{height:40px;border:1px solid #409eff;border-radius:4px;line-height:40px;text-align:center;color:#409eff}#wtable .tabs-wrap .tabs-item .mtabs .activeTab{background-color:#409eff;color:#fff}#wtable .render_label p{margin:0}#wtable .el-table__row--striped td{background-color:#ead0b3!important}#wtable .el-table__row td{background-color:#c3cdd6}#wtable .phone{color:#fa7362;font-size:24px;margin-left:10px}#wtable .cell{text-align:center}#wtable table{width:100%!important}#wtable .el-table th{display:table-cell!important}#wtable .el-table--border td:first-child .cell,#wtable .el-table--border th:first-child .cell,#wtable .el-table .cell,#wtable .el-table th div{padding-left:3px!important}#wtable .el-table .cell,#wtable .el-table th div{padding-right:3px!important}#wtable .el-form--inline .el-form-item{display:inline-block;vertical-align:top;display:-webkit-box;display:-ms-flexbox;display:flex;margin-right:0;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}#wtable .el-form--inline .el-form-item__label{width:60px;-moz-text-align-last:justify;text-align-last:justify}#wtable .el-dialog__footer{text-align:center}#wtable .el-button--primary{width:100%}#wtable .el-dialog__header{text-align:center}#wtable .el-dialog__body{padding:0 15px}",""]),t.locals={trOddColor:"#c3cdd6",trEvenColor:"#ead0b3"}},"3d39":function(e,t,n){var r=n("2ffc");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("7193928a",r,!0,{sourceMap:!1,shadowMode:!1})},"40ce":function(e,t,n){"use strict";var r=n("9d34"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"keepTwoNum",(function(){return ae}));n("0fb7"),n("450d");var a=n("f529"),i=n.n(a),o=(n("9e1f"),n("6ed5")),l=n.n(o),s=(n("826b"),n("c263")),c=n.n(s),d=(n("eca7"),n("3787")),u=n.n(d),f=(n("425f"),n("4105")),b=n.n(f),p=(n("5466"),n("ecdf")),m=n.n(p),h=(n("38a0"),n("ad41")),g=n.n(h),y=(n("6611"),n("e772")),v=n.n(y),w=(n("10cb"),n("f3ad")),x=n.n(w),_=(n("a7cc"),n("df33")),P=n.n(_),k=(n("1f1a"),n("4e4b")),E=n.n(k),O=(n("fd71"),n("a447")),C=n.n(O),j=(n("1951"),n("eedf")),L=n.n(j),T=(n("456d"),n("ac6a"),n("be7f"),n("565f")),D=(n("e7e5"),n("d399")),B=(n("e930"),n("8f80")),S=(n("9cb7"),n("66fd")),M=(n("bda7"),n("5e46")),N=(n("da3c"),n("0b33")),$=(n("61ae"),n("d314")),I=(n("09d3"),n("2d6d")),q=(n("cadf"),n("551c"),n("f751"),n("097d"),n("8bbf")),z=n.n(q),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},R=[],U=n("d3be"),V={name:"price",components:{Price:U["default"]}},H=V,Z=n("2877"),F=Object(Z["a"])(H,A,R,!1,null,null,null),J=F.exports,G=(n("7f7f"),n("6389")),K=n.n(G),Q=n("bbd5");z.a.use(K.a);var W=[{path:"/",name:"price",component:function(){return Promise.resolve().then(n.bind(null,"d3be"))},meta:{title:"油价"}},{path:"/price",name:"controlPrice",component:function(){return n.e("chunk-73714a90").then(n.bind(null,"3f3f"))},meta:{title:"油价管理",needLogin:!0}},{path:"/system",name:"system",component:function(){return n.e("chunk-4f0ab34b").then(n.bind(null,"9826"))},meta:{title:"系统管理",needLogin:!0}},{path:"/message",name:"message",component:function(){return n.e("chunk-795cebb0").then(n.bind(null,"df59"))},meta:{title:"消息管理",needLogin:!0}},{path:"/car",name:"car",component:function(){return n.e("chunk-0d1211a4").then(n.bind(null,"bd0b"))},meta:{title:"车管理",needLogin:!0}},{path:"/login",name:"login",component:function(){return n.e("chunk-7e4dde96").then(n.bind(null,"ebb2"))},meta:{title:"系统登录"}},{path:"/postage",name:"postage",component:function(){return n.e("chunk-46d63ae4").then(n.bind(null,"991b"))},meta:{title:"联系运车"}}],X=new VueRouter({routes:W});X.beforeEach((function(e,t,n){var r=Object(Q["b"])("token"),a=!Object(Q["c"])(r);if(a)"login"===e.name?n({name:"system"}):n();else{console.log(e);var i=e.matched.some((function(e){return e.meta.needLogin}));console.log("baishi="+i),i?n("/login"):n()}}));var Y=X,ee=n("2f62");z.a.use(ee["a"]);var te=new ee["a"].Store({state:{},mutations:{},actions:{}}),ne=n("7876"),re=n.n(ne);n("3d39"),n("c5f6");function ae(e){return e=Number(e),e.toFixed(2)}z.a.use(re.a),z.a.use(I["a"]),z.a.use($["a"]),z.a.use(N["a"]),z.a.use(M["a"]),z.a.use(S["a"]),z.a.use(B["a"]),z.a.use(D["a"]),z.a.use(T["a"]),z.a.config.productionTip=!1,Object.keys(r).forEach((function(e){z.a.filter(e,r[e])})),z.a.use(L.a),z.a.use(C.a),z.a.use(E.a),z.a.use(P.a),z.a.use(x.a),z.a.use(v.a),z.a.use(g.a),z.a.use(m.a),z.a.use(b.a),z.a.use(u.a),z.a.use(c.a),z.a.prototype.$confirm=l.a.confirm,z.a.prototype.$message=i.a,new z.a({router:Y,store:te,render:function(e){return e(J)}}).$mount("#app")},6389:function(e,t){e.exports=VueRouter},"8bbf":function(e,t){e.exports=Vue},"8c1f":function(e,t,n){var r=n("e6c2");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("a89f9a24",r,!0,{sourceMap:!1,shadowMode:!1})},"9d34":function(e,t,n){var r=n("3c2a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("5626e107",r,!0,{sourceMap:!1,shadowMode:!1})},bbd5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("7618"),a=n("a78e"),i=n.n(a);function o(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(r["a"])(e))for(var n in e)e.hasOwnProperty(n)&&(e[n]&&"object"===Object(r["a"])(e[n])?t[n]=o(e[n]):t[n]=e[n]);return t}function l(e,t){i.a.set(e,t,{expires:5})}function s(e){return i.a.get(e)}function c(e){return"undefined"==typeof e}},cebe:function(e,t){e.exports=axios},d3be:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.$route.meta.title,expression:"$route.meta.title"}],staticStyle:{width:"100%"},attrs:{id:"wtable"}},[n("div",{staticClass:"header-wrapper m15"},[n("div",{domProps:{innerHTML:e._s(e.headerInfo)}})]),n("div",{staticClass:"tabs-wrap"},e._l(e.nameList,(function(t,r){return n("div",{key:t,staticClass:"tabs-item",on:{click:function(t){return e.getListByName(r)}}},[n("div",{staticClass:"mtabs"},[n("div",{staticClass:"tab-text",class:e.currentTabIndex==r?"activeTab":""},[e._v("\n              "+e._s(t)+"\n           ")])])])})),0),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"",size:"small","header-cell-class-name":"headerStyle "}},[n("el-table-column",{attrs:{prop:"supplier",label:"供应商","min-width":"30%"}}),n("el-table-column",{attrs:{prop:"name",label:"品名","min-width":"10%"}}),n("el-table-column",{attrs:{prop:"price",label:"单价,(元/吨)","render-header":e.renderHeader,"min-width":"15%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.price)+"\n        "),"涨"==t.row.trend?n("span",{staticClass:"blue"},[e._v("↑")]):"跌"==t.row.trend?n("span",{staticClass:"red"},[e._v("↓")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"density",label:"密度","min-width":"15%"}}),n("el-table-column",{attrs:{label:"运费,(元)",prop:"freight","render-header":e.renderHeader,"min-width":"15%"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"el-input el-input--mini"},[n("input",{staticClass:"el-input__inner",attrs:{type:"number",autocomplete:"off",min:"0"},domProps:{value:t.row.freight},on:{blur:function(n){return e.setZero(t.row,"freight")},focus:function(n){return e.setEmpty(t.row,"freight")},input:function(n){return e.getEndPrice(t.row)}}})])]}}])}),n("el-table-column",{attrs:{prop:"endPrice",label:"批发价,(元/升)","render-header":e.renderHeader,"min-width":"15%"}})],1),n("div",{staticClass:"tc"},[n("el-button",{staticClass:"mt15",attrs:{type:"warning"},on:{click:function(t){return e.sortByEndPriceOnBtn()}}},[e._v("按单位价"+e._s(e.orderTitle)+"序排列")])],1),n("div",{staticClass:"p15"},[e._m(0),n("span",{staticClass:"mt15 pho"},[e._v(" 联系电话")]),n("br"),e._v("\n      胡先生:"),n("a",{staticClass:"phone",attrs:{href:"tel:13436143385"}},[e._v("13436143385")]),n("br"),e._v("\n      吕先生:"),n("a",{staticClass:"phone",attrs:{href:"tel:18990591010"}},[e._v("18990591010")]),n("el-button",{staticClass:"mt15",attrs:{type:"primary"},on:{click:e.toggleDialog}},[e._v("自定义计算")])],1),n("el-dialog",{attrs:{title:"计算单位价",visible:e.isVisible,width:"80%","show-close":!1}},[n("el-form",{attrs:{model:e.form,inline:!0}},[n("el-form-item",{attrs:{label:"单价:"}},[n("el-input",{attrs:{type:"number",min:"0",autocomplete:"off",placeholder:"请输入单价"},on:{blur:function(t){return e.setZero(e.form,"price")},focus:function(t){return e.setEmpty(e.form,"price")},input:function(t){return e.getDialogEndPrice(e.form)}},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n(t))},expression:"form.price"}})],1),n("el-form-item",{attrs:{label:"密度:"}},[n("el-input",{attrs:{type:"number",min:"0",autocomplete:"off",placeholder:"请输入密度"},on:{blur:function(t){return e.setZero(e.form,"density")},focus:function(t){return e.setEmpty(e.form,"density")},input:function(t){return e.getDialogEndPrice(e.form)}},model:{value:e.form.density,callback:function(t){e.$set(e.form,"density",e._n(t))},expression:"form.density"}})],1),n("el-form-item",{attrs:{label:"运费:"}},[n("el-input",{attrs:{type:"number",min:"0",autocomplete:"off",placeholder:"请输入运费"},on:{blur:function(t){return e.setZero(e.form,"freight")},focus:function(t){return e.setEmpty(e.form,"freight")},input:function(t){return e.getDialogEndPrice(e.form)}},model:{value:e.form.freight,callback:function(t){e.$set(e.form,"freight",e._n(t))},expression:"form.freight"}})],1),n("el-form-item",{attrs:{label:"批发价:"}},[n("el-input",{attrs:{disabled:!0,type:"number",autocomplete:"off"},model:{value:e.form.endPrice,callback:function(t){e.$set(e.form,"endPrice",t)},expression:"form.endPrice"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.toggleDialog}},[e._v("关闭")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gray mb15"},[e._v("\n      注：请点击输入运费,计算参考批发价"),n("br"),e._v("\n              柴油：零售0.05≈批发60"),n("br"),e._v("\n              汽油：零售0.05≈批发65")])}],i=(n("28a5"),n("ac6a"),n("c5f6"),n("7f7f"),n("6762"),n("2fdb"),n("6c7b"),n("55dd"),n("eeb9")),o=(n("8c1f"),n("bbd5")),l={data:function(){return{isVisible:!1,orderTitle:"降",form:{price:0,density:0,freight:0,endPrice:0},headerInfo:"",tableData:[],oldData:[],nameList:[],sortByEndPrice:[],currentTabIndex:0}},mounted:function(){this.queryList(),this.queryMessage()},methods:{queryMessage:function(){var e=this;i["a"].request("message/queryMessage").then((function(t){t=t.data,"200"==t.code?e.headerInfo=t.data[0].message:e.$message.error("头信息查询失败")}))},queryList:function(){var e=this;i["a"].request("price/queryAllPriceOrderByEndPrice").then((function(t){if(t=t.data,"200"==t.code){e.oldData=t.data,console.log(e.oldData);var n=e.getNameList(t.data);e.nameList=n.sort(),e.sortByEndPrice=new Array(e.nameList.length).fill("ASC"),e.getListByName(0)}else e.$message.error("查询数据失败")}))},getNameList:function(e){var t=e.reduce((function(e,t){return e.includes(t.name)||e.push(t.name),e}),[]);return t},getListByName:function(e){this.currentTabIndex=e,this.fillterByName()},sortByEndPriceOnBtn:function(){var e=this.sortByEndPrice[this.currentTabIndex];"ASC"===e?(this.orderTitle="升",this.sortByEndPrice[this.currentTabIndex]="DESC",this.tableData.sort((function(e,t){return t.endPrice-e.endPrice}))):(this.orderTitle="降",this.sortByEndPrice[this.currentTabIndex]="ASC",this.tableData.sort((function(e,t){return e.endPrice-t.endPrice})))},sortByEndPriceOnName:function(){var e=this.sortByEndPrice[this.currentTabIndex];"ASC"===e?(this.orderTitle="降",this.tableData.sort((function(e,t){return e.endPrice-t.endPrice}))):(this.orderTitle="升",this.tableData.sort((function(e,t){return t.endPrice-e.endPrice})))},fillterByName:function(){var e=this.nameList[this.currentTabIndex],t=Object(o["a"])(this.oldData),n=t.filter((function(t){return t.name==e}));this.tableData=n,this.sortByEndPriceOnName()},toggleDialog:function(){this.isVisible=!this.isVisible},setEmpty:function(e,t){"0"==e[t]&&(e[t]="")},setZero:function(e,t){""==e[t]&&(e[t]=0)},getEndPrice:function(e){var t=event.target.value,n=t?parseInt(event.target.value):0;e.freight=n;var r=(e.price+e.freight)/1e3*e.density;e.endPrice=Number(r).toFixed(2),this.setOldData(e.id,e.freight,e.endPrice)},setOldData:function(e,t,n){this.oldData.forEach((function(r){r.id==e&&(r.freight=t,r.endPrice=n)}))},getDialogEndPrice:function(e){var t=(e.price+e.freight)/1e3*e.density;e.endPrice=Number(t).toFixed(2)},renderHeader:function(e,t){var n=t.column,r=n.label.split(",");return e("span",{class:"render_label"},[e("p",[r[0]]),e("p",{class:"small-font"},[r[1]])])}}},s=l,c=(n("40ce"),n("2877")),d=Object(c["a"])(s,r,a,!1,null,null,null);t["default"]=d.exports},e6c2:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"",""]),t.locals={trOddColor:"#c3cdd6",trEvenColor:"#ead0b3"}},eeb9:function(e,t,n){"use strict";var r=n("d225"),a=n("b0b4"),i=n("cebe"),o=n.n(i),l={baseUrl:{dev:"http://172.16.100.87:80/",pro:"http://192.144.184.96:80/"}},s=function(){function e(){Object(r["a"])(this,e),this.baseURL=l.baseUrl.pro}return Object(a["a"])(e,[{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=o.a.create(),i={baseURL:this.baseURL,timeout:this.timeout,method:n,url:e,params:t,isLoading:r};return a(i)}},{key:"requestPost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=o.a.create(),i={baseURL:this.baseURL,timeout:this.timeout,method:n,url:e,data:t,isLoading:r};return a(i)}}]),e}();t["a"]=new s}});